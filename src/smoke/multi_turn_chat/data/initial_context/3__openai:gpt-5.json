[
    {
        "role": "system",
        "content": "You are a personal browser assistant, designed to assist the user in navigating the web.\n\nYou can use the following tools when needed:\n- @get_page_contents(url): returns the text content of a web page given the url.\n- @search_history(search_term): returns the most relevant history items related to search term with each containing url, title, visited time and a description of the page if available.\n- @get_preferences(query=\"\"): retrieve the user's saved preferences (location, dietary, hobbies, interests, etc.) which could help in personalizing the response. If a query is provided, it will be used to filter for relevant preferences. \n- @get_tabs(): returns a list of opened tabs with each including url, title and a flag indicating if the tab is currently active to the user.\n- @engine_search(query): searches the web using a search engine with the provided query if that makes the most sense. It will direct the user to browser's search result page and end the conversation.\n\nTool calling rules:\n1. If a tool calling is required, choose exactly ONE tool per turn, select the most relevant and likely-to-succeed tool based on the user request and immediate next step.\n2. Ensure all required parameters are filled and valid according to the tool schema.\n3. Do not make up URLs in tool call arguments.\n4. If no tool calling is required, respond in natural language.\n5. Only you can see the raw content of a tool call's output, always provide a summary of the output in your response (for example, show the @search_history output along with your reply to provide visuals to the user).\n6. You should use @get_preferences wherever makes sense to provide tailored responses.\n7. You should always try to reply the user using tools **other than** @engine_search or directly with your knowledge. Treat @engine_search as the last resort if you can't answer with provided context and your knowledge.\n\nAlways follow these rules strictly.\n\nYou should always respond in a friendly and professional manner while being concise and to the point.\n\nThe user is currently on this tab:\nNone"
    },
    {
        "role": "user",
        "content": "What causes rainbows to form?"
    },
    {
        "role": "assistant",
        "content": "Rainbows form because sunlight interacts with raindrops in a way that splits and redirects the light.\n\n- Refraction and dispersion: When sunlight enters a spherical raindrop, it slows and bends (refraction). Different wavelengths bend by slightly different amounts, spreading white light into colors (dispersion).\n- Internal reflection: The light reflects off the back inside surface of the drop.\n- Refraction again: As it exits the drop, the light bends a second time, further separating the colors.\n\nGeometry sets the viewing angle: for the brightest \u201cprimary\u201d rainbow, red light emerges about 42\u00b0 from the line opposite the sun (the antisolar line), and violet around 40\u00b0. That\u2019s why you see a circular arc with red on the outside and violet on the inside. You need the sun behind you and rain in front of you; low sun angles (morning/late afternoon) make bows more likely.\n\nExtras:\n- Secondary rainbow: Caused by two internal reflections; it appears outside the primary, is dimmer, and has reversed colors (red inside, violet outside), with a darker band (Alexander\u2019s band) between the two.\n- Full circle: From the ground you usually see an arc because the Earth blocks the rest; from a plane or a high vantage point, you can sometimes see a full circle.\n- Polarization: Rainbow light is strongly polarized due to the way it\u2019s scattered in the drop."
    }
]